{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","Components/button/Button.js","Components/loader/Loader.js","Components/formSubmit/FormSubmit.js","views/MoviesPage.js","services/ApiServices.js","img/default-image.png","Components/moviesList/MoviesList.js"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_toConsumableArray","isArray","iter","Symbol","iterator","Object","from","o","minLen","n","prototype","toString","call","slice","constructor","name","test","TypeError","Button","fetchImajes","className","type","onClick","PropTypes","func","isRequired","Load","color","height","width","Component","FormSubmit","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","action","placeholder","onChange","history","push","pathname","location","search","withRouter","MoviesPage","films","page","error","isLoading","showBtn","onChengeQuery","fetchMovies","options","newApi","fetchMoviesPage","then","data","prevState","results","lengthArr","windowScroll","finally","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","showLoadMoreBtn","MoviesList","axios","defaults","baseURL","params","api_key","fetchMoviesDay","a","get","fetchMoviesDetail","movieId","fetchCast","fetchReviews","propTypes","string","number","map","film","to","apdateList","id","src","poster_path","defaultImg","alt","original_title"],"mappings":"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","file":"static/js/movies-page.3dc9d8e3.chunk.js","sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from 'react';\nimport './Button.scss';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ fetchImajes }) => {\n  return (\n    <button className=\"Button\" type=\"button\" onClick={fetchImajes}>\n      Load more\n    </button>\n  );\n};\n\nButton.prototype = {\n  fetchImajes: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport './Loader.scss';\n\nexport default class Load extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        className=\"Loader\"\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={100}\n        width={300}\n        // timeout={3000} //3 secs\n      />\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport './FormSubmit.scss';\n\nexport class FormSubmit extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = event => {\n    this.setState({ query: event.currentTarget.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <>\n        <form action=\"\" onSubmit={this.handleSubmit}>\n          <input\n            type=\"text\"\n            placeholder=\"Input movies\"\n            value={query}\n            onChange={this.handleChange}\n          />\n          <button\n            type=\"submit\"\n            onClick={() =>\n              this.props.history.push({\n                pathname: this.props.location.pathname,\n                search: `query=${query}`,\n                query: `${query}`,\n              })\n            }\n          >\n            Search\n          </button>\n        </form>\n      </>\n    );\n  }\n}\n\nexport default withRouter(FormSubmit);\n","import React, { Component } from 'react';\nimport MoviesList from '../Components/moviesList/MoviesList';\nimport Button from '../Components/button/Button';\nimport Loader from '../Components/loader/Loader';\nimport FormSubmit from '../Components/formSubmit/FormSubmit';\nimport newApi from '../services/ApiServices';\nimport PropTypes from 'prop-types';\n\nexport class MoviesPage extends Component {\n  state = {\n    films: [],\n    page: 1,\n    query: '',\n    error: null,\n    isLoading: false,\n    showBtn: true,\n  };\n\n  componentDidMount() {\n    const { query } = this.props.location;\n    const { page } = this.state;\n    const options = { query, page };\n\n    this.props.location.query &&\n      newApi\n        .fetchMoviesPage(options)\n        .then(() => {\n          this.setState(() => ({\n            query: this.props.location.query,\n          }));\n\n          this.windowScroll();\n        })\n        .finally(() => {\n          this.setState({ isLoading: false });\n        });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchMovies();\n    }\n  }\n\n  onChengeQuery = query => {\n    this.setState({\n      query: query,\n      page: 1,\n      films: [],\n      error: null,\n    });\n  };\n\n  fetchMovies = () => {\n    this.setState({ isLoading: true });\n    const { query, page } = this.state;\n    const options = { query, page };\n\n    newApi\n      .fetchMoviesPage(options)\n      .then(data => {\n        this.setState(prevState => ({\n          films: [...prevState.films, ...data.results],\n          page: prevState.page + 1,\n          query: this.props.location.query,\n        }));\n\n        this.lengthArr(data.results.length);\n\n        this.windowScroll();\n      })\n      .finally(() => {\n        const { films } = this.state;\n        if (films.length < 1) {\n          this.setState({ error: true });\n        } else {\n          this.setState({ error: false });\n        }\n        this.setState({ isLoading: false });\n      });\n  };\n\n  windowScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  lengthArr = value => {\n    if (value < 19) {\n      this.setState({ showBtn: false });\n    }\n  };\n\n  render() {\n    const { films, query, error, isLoading, showBtn } = this.state;\n    const showLoadMoreBtn = films.length > 0 && !isLoading && showBtn;\n\n    return (\n      <>\n        <FormSubmit onSubmit={this.onChengeQuery} />\n        <MoviesList films={films} />\n        {error && <h2>Something went wrong</h2>}\n        {isLoading && <Loader />}\n        {showLoadMoreBtn && <Button fetchImajes={this.fetchMovies} />}\n      </>\n    );\n  }\n}\n\nMoviesPage.propTypes = {\n  location: PropTypes.object.isRequired,\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst API_KEY = '69b18394d8ba2f066276fc5ba1d70545';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\naxios.defaults.baseURL = BASE_URL;\n\naxios.defaults.params = {\n  api_key: API_KEY,\n};\n\nconst fetchMoviesDay = async () => {\n  try {\n    const { data } = await axios.get(`/trending/movie/day`);\n    return data;\n  } catch {}\n};\n\nconst fetchMoviesPage = async ({ query, page }) => {\n  try {\n    const { data } = await axios.get(`/search/movie`, {\n      params: { query, page },\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst fetchMoviesDetail = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}`);\n    return data;\n  } catch {}\n};\n\nconst fetchCast = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/credits`);\n    return data;\n  } catch {}\n};\n\nconst fetchReviews = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/reviews`);\n    return data;\n  } catch {}\n};\n\nfetchMoviesPage.propTypes = {\n  query: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n};\n\nfetchMoviesDetail.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\n\nfetchCast.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\n\nfetchReviews.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\n\nexport default {\n  fetchMoviesDay,\n  fetchMoviesPage,\n  fetchMoviesDetail,\n  fetchCast,\n  fetchReviews,\n};\n","export default __webpack_public_path__ + \"static/media/default-image.5fa9fc41.png\";","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport './MoviesList.scss';\nimport PropTypes from 'prop-types';\nimport defaultImg from '../../img/default-image.png';\n\nconst MoviesList = ({ films, location }) => {\n  const Base_url = 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2';\n\n  return (\n    <ul className=\"items-movies-list\">\n      {films.map(film => (\n        <li key={film.id} className=\"item-movies-list\">\n          <Link\n            to={{\n              apdateList: location.apdateList,\n              pathname: `/movies/${film.id}`,\n              state: {\n                from: location.pathname,\n                query: location.query,\n              },\n            }}\n          >\n            <img\n              src={\n                film.poster_path ? `${Base_url}${film.poster_path}` : defaultImg\n              }\n              alt=\"poster\"\n              width=\"200\"\n              height=\"300\"\n            />\n            <p>{film.original_title}</p>\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nMoviesList.propTypes = {\n  films: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      poster_path: PropTypes.string,\n      original_title: PropTypes.string.isRequired,\n    }),\n  ),\n  location: PropTypes.object.isRequired,\n};\n\nexport default withRouter(MoviesList);\n"],"sourceRoot":""}