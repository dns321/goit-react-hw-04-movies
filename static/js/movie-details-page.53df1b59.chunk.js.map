{"version":3,"sources":["routes/castReviewsRoutes.js","views/MovieDetailsPage.js","services/ApiServices.js","img/default-image.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["castReviewsRoutes","name","path","exact","list","component","lazy","MovieDetailsPage","state","genres","original_title","overview","poster_path","release_date","vote_average","from","query","handleGoBack","history","props","push","pathname","search","a","movieId","this","match","params","newsApi","fetchMoviesDetail","then","data","setState","location","date","split","score","className","type","onClick","src","defaultImg","alt","width","map","genre","id","Navigation","routes","url","fallback","MyComponent","render","Component","axios","defaults","baseURL","api_key","fetchMoviesDay","get","fetchMoviesPage","page","fetchCast","fetchReviews","propTypes","PropTypes","string","isRequired","number","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties"],"mappings":"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","file":"static/js/movie-details-page.53df1b59.chunk.js","sourcesContent":["import { lazy } from 'react';\n\nexport const castReviewsRoutes = [\n  {\n    name: 'Cast',\n    path: '/cast',\n    exact: true,\n    list: true,\n    component: lazy(() =>\n      import(\n        '../Components/moviesCard/cast/Cast' /* webpackChunkName: \"cast\" */\n      ),\n    ),\n  },\n  {\n    name: 'Reviews',\n    path: '/reviews',\n    exact: true,\n    list: true,\n    component: lazy(() =>\n      import(\n        '../Components/moviesCard/reviews/Reviews' /* webpackChunkName: \"reviews\" */\n      ),\n    ),\n  },\n];\n","import React, { Component, Suspense, lazy } from 'react';\nimport { Route, withRouter } from 'react-router-dom';\nimport Loader from 'react-loader-spinner';\nimport defaultImg from '../img/default-image.png';\nimport Navigation from '../Components/navigation/Navigation';\nimport { castReviewsRoutes } from '../routes/castReviewsRoutes';\nimport newsApi from '../services/ApiServices';\nimport PropTypes from 'prop-types';\n\nexport class MovieDetailsPage extends Component {\n  state = {\n    genres: [],\n    original_title: '',\n    overview: '',\n    poster_path: '',\n    release_date: '',\n    vote_average: '',\n    from: '',\n    query: '',\n  };\n\n  async componentDidMount() {\n    const movieId = this.props.match.params.movieId;\n\n    newsApi.fetchMoviesDetail(movieId).then(data => {\n      this.setState({\n        ...data,\n        from: this.props.location.state?.from,\n        query: this.props.location.state?.query,\n      });\n    });\n  }\n\n  handleGoBack = () => {\n    const { from, query } = this.state;\n\n    const { history } = this.props;\n    from && query\n      ? history.push({\n          pathname: from,\n          search: `query=${query}`,\n          query,\n        })\n      : history.push('/');\n  };\n\n  render() {\n    const {\n      genres,\n      original_title,\n      overview,\n      poster_path,\n      release_date,\n      vote_average,\n      from,\n    } = this.state;\n    const movieId = this.props.match.params.movieId;\n\n    const date = `${release_date}`.split('-')[0];\n    const score = vote_average * 10;\n\n    const Base_url = 'https://image.tmdb.org/t/p/original';\n\n    return (\n      <>\n        {/* <h2>Cторінка фільма {this.props.match.params.movieId}</h2> */}\n        <div className=\"movie\">\n          <button\n            type=\"button\"\n            onClick={this.handleGoBack}\n            // disabled={!from && 'disabled'}\n          >\n            Go back\n          </button>\n          <div className=\"movies-card\">\n            <img\n              src={poster_path ? `${Base_url}${poster_path}` : defaultImg}\n              alt=\"poster\"\n              width=\"200\"\n            />\n            <div className=\"movies-card-description\">\n              <h2>\n                {original_title} ({date})\n              </h2>\n              <p>User Score: {score}%</p>\n              <h3>Overview</h3>\n              <p>{overview}</p>\n              <h3>Genres</h3>\n              <ul>\n                {genres.map(genre => (\n                  <li key={genre.id}>{genre.name}</li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div className=\"movies-information\">\n          <p className=\"movies-information-text\">Additional information</p>\n          <Navigation routes={castReviewsRoutes} match={this.props.match.url} />\n        </div>\n\n        <Suspense fallback={<Loader />}>\n          {castReviewsRoutes.map(({ path, component: MyComponent }) => (\n            <Route\n              key={path}\n              path={`${this.props.match.url}${path}`}\n              render={props => <MyComponent movieId={movieId} {...props} />}\n            ></Route>\n          ))}\n        </Suspense>\n      </>\n    );\n  }\n}\n\nMovieDetailsPage.propTypes = {\n  location: PropTypes.object.isRequired,\n  match: PropTypes.object.isRequired,\n};\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst API_KEY = '69b18394d8ba2f066276fc5ba1d70545';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\naxios.defaults.baseURL = BASE_URL;\n\naxios.defaults.params = {\n  api_key: API_KEY,\n};\n\nconst fetchMoviesDay = async () => {\n  try {\n    const { data } = await axios.get(`/trending/movie/day`);\n    return data;\n  } catch {}\n};\n\nconst fetchMoviesPage = async ({ query, page }) => {\n  try {\n    const { data } = await axios.get(`/search/movie`, {\n      params: { query, page },\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst fetchMoviesDetail = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}`);\n    return data;\n  } catch {}\n};\n\nconst fetchCast = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/credits`);\n    return data;\n  } catch {}\n};\n\nconst fetchReviews = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/reviews`);\n    return data;\n  } catch {}\n};\n\nfetchMoviesPage.propTypes = {\n  query: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n};\n\nfetchMoviesDetail.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\n\nfetchCast.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\n\nfetchReviews.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\n\nexport default {\n  fetchMoviesDay,\n  fetchMoviesPage,\n  fetchMoviesDetail,\n  fetchCast,\n  fetchReviews,\n};\n","export default __webpack_public_path__ + \"static/media/default-image.5fa9fc41.png\";","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}"],"sourceRoot":""}